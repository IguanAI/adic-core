# ADIC Core Environment Configuration
# Copy this file to .env and update with your values

# ============================================
# NODE CONFIGURATION
# ============================================

# Node identity (auto-generated if not set)
NODE_ID=

# Network configuration
P2P_PORT=9000
API_PORT=8080
API_HOST=127.0.0.1

# Data directory for blockchain storage
DATA_DIR=./data

# Node mode (validator or full)
NODE_MODE=full

# ============================================
# SECURITY
# ============================================

# API authentication (if enabled)
API_KEY=

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# ============================================
# MONITORING (Docker Compose)
# ============================================

# Grafana admin password (REQUIRED for production)
# Generate strong password: openssl rand -base64 32
GRAFANA_ADMIN_PASSWORD=changeme

# Prometheus retention
PROMETHEUS_RETENTION=15d

# ============================================
# JUPYTER NOTEBOOK (Development only)
# ============================================

# Jupyter token (leave empty for development, set for production)
# Generate: python -c "from notebook.auth import passwd; print(passwd())"
JUPYTER_TOKEN=

# ============================================
# DATABASE
# ============================================

# RocksDB configuration
ROCKSDB_MAX_OPEN_FILES=256
ROCKSDB_CACHE_SIZE_MB=512

# ============================================
# ECONOMICS
# ============================================

# Genesis allocation (if running private network)
GENESIS_SUPPLY=1000000000
TREASURY_ALLOCATION=0.1
LIQUIDITY_ALLOCATION=0.05

# ============================================
# LOGGING
# ============================================

# Log level (trace, debug, info, warn, error)
RUST_LOG=info
LOG_LEVEL=info

# Log format (pretty, json, compact)
LOG_FORMAT=pretty

# Enable emojis in logs (true/false)
LOG_USE_EMOJIS=true

# Show structured fields at level (always, debug, trace, never)
LOG_SHOW_FIELDS_AT=debug

# Show boot banner and emoji legend (true/false)
LOG_SHOW_BANNER=true
LOG_SHOW_LEGEND=true

# Log file output (optional)
LOG_FILE=./logs/adic.log
LOG_FILE_ROTATION_MB=100

# ============================================
# NETWORK BOOTSTRAP
# ============================================

# Bootstrap peers (comma-separated multiaddrs)
# Example: /ip4/192.168.1.10/tcp/9000/p2p/QmBootstrap1
BOOTSTRAP_PEERS=

# Maximum peer connections
MAX_PEERS=50

# ============================================
# NETWORK SELECTION
# ============================================
#
# Network configuration is defined in config/*.toml files.
# Use the --network flag to select: mainnet, testnet, or devnet
#
# Example usage:
#   ./adic start --network mainnet
#   ./adic start --network testnet
#   ./adic start --network devnet
#
# ⚠️  IMPORTANT: Never override consensus parameters via environment variables.
#     Consensus parameters (p, d, k, rho, etc.) are defined in the network
#     config files and must not be modified at runtime.
#
# Only runtime settings (ports, paths, log levels) can be overridden below.

# ============================================
# DEVELOPMENT
# ============================================

# Enable debug endpoints (NEVER in production)
DEBUG_MODE=false

# Enable metrics endpoint
METRICS_ENABLED=true

# ============================================
# NOTES
# ============================================
#
# 1. Never commit .env files to version control
# 2. Use strong, unique passwords for all services
# 3. In production, use proper secrets management
# 4. Review all settings before deployment
# 5. Keep this file updated with new releases
# 6. Use --network flag to select network (mainnet/testnet/devnet)
# 7. Network consensus parameters are in config/*.toml (do not override)